

<div>
    <h1 mat-dialog-title>
        <mat-toolbar class="task-header">
            <mat-toolbar-row>
                <span>Login</span>
            </mat-toolbar-row>
           
        </mat-toolbar>
    </h1>
    
    <div mat-dialog-content>
        
        <form [formGroup]="loginForm" (ngSubmit)="login()">
            
            <mat-form-field class="form-field" appearance="legacy">
                <mat-label>Username</mat-label>
                <input matInput formControlName = "username" >
                <mat-error *ngIf="submitted && form.username.errors">A Username is required</mat-error>
            </mat-form-field>

            <br>
        
            <mat-form-field class="form-field" appearance="legacy">
                <mat-label>Password</mat-label>
                <input matInput formControlName = "password" [type]="hide ? 'password' : 'text'">
                <mat-icon matSuffix (click)="hide = !hide">{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
                <mat-error *ngIf="submitted && form.username.errors">A Username is required</mat-error>
            </mat-form-field>
            
            <div>
                <span *ngIf="invalidLogin" class="error-msg">Invalid Password or Username!</span>
            </div>

            <br>

            <button mat-raised-button color="primary" 
            class="form-btn" 
            type="submit"
            [disabled]= "!loginForm.valid">
            <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
            Login</button>
            
        </form>
    </div>
</div>